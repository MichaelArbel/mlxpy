<!doctype html>
<html class="no-js" lang="en" data-content_root="../../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../../../genindex.html" /><link rel="search" title="Search" href="../../../search.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>mlxp.data_structures.schemas - MLXP 0.2</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../../../_static/styles/furo-extensions.css?v=36a5483c" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../../index.html"><div class="brand">MLXP 0.2</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../../index.html">
  
  
  <span class="sidebar-brand-text">MLXP 0.2</span>
  
</a><form class="sidebar-search-container" method="get" action="../../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div>
<div class="sidebar-tree">
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="index.html">Versions</a><input class="toctree-checkbox" id="toctree-checkbox-v" name="toctree-checkbox-v" role="switch" type="checkbox"/><label for="toctree-checkbox-v"><div class="visually-hidden">Toggle child pages in navigation</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label>
  <ul>
  <!-- extract version from branch name  of the form relase/0.2.x -->
    <li class="toctree-l2"><a class="reference internal" href="../../../../release/0.2.x/index.html">0.2</a></li>
  </ul>
</li>
</ul>
</div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Content:</span></p>
<ul>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../guide.html">Guide</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Guide</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../installing.html">Installing MLXP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting_started.html">Quick start guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../configuring_mlxp.html">Configuring MLXP</a></li>
<li class="toctree-l2 has-children"><a class="reference internal" href="../../../tutorial.html">Tutorial</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Tutorial</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorial_introduction.html">Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../easy_launching.html">1- Launching</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../easy_logging.html">2- Logging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../easy_versioning.html">3- Versioning</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../easy_reading.html">3- Reading</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../tutorial_conclusion.html">Conclusion</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../../../mlxp.html">MLXP package</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of MLXP package</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../mlxp.launching.html">Launcher</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mlxp.logging.html">Logger</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mlxp.reading.html">Reader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mlxp.scheduling.html">Scheduler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mlxp.version_managment.html">Version manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../mlxp.data_structures.html">Data structures</a></li>
</ul>
</li>
</ul>

</div>
</div>
      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <h1>Source code for mlxp.data_structures.schemas</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;Structures for validating the configurations.&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">subprocess</span>
<span class="kn">from</span> <span class="nn">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="kn">from</span> <span class="nn">omegaconf</span> <span class="kn">import</span> <span class="n">MISSING</span>


<span class="k">def</span> <span class="nf">get_defautl_shell_path</span><span class="p">():</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">command</span> <span class="o">=</span> <span class="s2">&quot;echo $SHELL&quot;</span>
        <span class="n">shell_path</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">check_output</span><span class="p">(</span><span class="n">command</span><span class="p">,</span> <span class="n">shell</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">shell_path</span>
    <span class="k">except</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">CalledProcessError</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Error running the command </span><span class="si">{command}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="s2">&quot;&quot;</span>


<div class="viewcode-block" id="ConfigScheduler">
<a class="viewcode-back" href="../../../mlxp.data_structures.html#mlxp.data_structures.schemas.ConfigScheduler">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ConfigScheduler</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Structure of the scheduler config file.</span>

<span class="sd">    .. py:attribute:: name</span>
<span class="sd">        :type: str</span>

<span class="sd">        Name of the scheduler&#39;s class.</span>

<span class="sd">    .. py:attribute:: env_cmd</span>
<span class="sd">        :type: str</span>

<span class="sd">        Command for activating the working environment. (e.g. &#39;conda activate my_env&#39;)</span>

<span class="sd">    .. py:attribute:: shell_path</span>
<span class="sd">        :type: Any</span>

<span class="sd">        Path to the shell used for submitting a job using a scheduler. (default &#39;/bin/bash&#39;)</span>

<span class="sd">    .. py:attribute:: shell_config_cmd</span>
<span class="sd">        :type: bool</span>

<span class="sd">        command for configuring the shell when submitting a job using a scheduler. (default &#39;source ~/.bashrc&#39;)</span>

<span class="sd">    .. py:attribute:: cleanup_cmd</span>
<span class="sd">        :type: str</span>

<span class="sd">        A command for clearning the environment when executing a job submitted by the scheduler. (e.g.: &#39;module purge&#39; for SLURM)</span>

<span class="sd">    .. py:attribute:: option_cmd</span>
<span class="sd">        :type: List[str]</span>

<span class="sd">        A list of strings containing the scheduler&#39;s options for the job. This allows to specify the desired resources to the scheduler such as the duration of the job, the quantity and type of resources, etc.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;NoScheduler&quot;</span>
    <span class="n">shell_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">get_defautl_shell_path</span><span class="p">()</span>
    <span class="n">shell_config_cmd</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">env_cmd</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">cleanup_cmd</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">option_cmd</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="p">[])</span></div>



<div class="viewcode-block" id="ConfigVersionManager">
<a class="viewcode-back" href="../../../mlxp.data_structures.html#mlxp.data_structures.schemas.ConfigVersionManager">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ConfigVersionManager</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Structure of the config file for the version manager.</span>

<span class="sd">    .. py:attribute:: name</span>
<span class="sd">        :type: str</span>

<span class="sd">        Name of the version manager&#39;s class.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">MISSING</span></div>



<div class="viewcode-block" id="ConfigGitVM">
<a class="viewcode-back" href="../../../mlxp.data_structures.html#mlxp.data_structures.schemas.ConfigGitVM">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ConfigGitVM</span><span class="p">(</span><span class="n">ConfigVersionManager</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configs for using the GitVM version manager.</span>

<span class="sd">    It inherits the structure of the class VersionManager.</span>

<span class="sd">    .. py:attribute:: name</span>
<span class="sd">        :type: str</span>

<span class="sd">        Name of the version manager&#39;s class.</span>

<span class="sd">    .. py:attribute:: parent_work_dir</span>
<span class="sd">        :type: str</span>

<span class="sd">        The target parent directory of</span>
<span class="sd">        the new working directory returned by the version manager</span>

<span class="sd">    .. py:attribute:: compute_requirements</span>
<span class="sd">        :type: bool</span>

<span class="sd">        When set to true, the version manager stores a list of requirements and their version.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;GitVM&quot;</span>
    <span class="n">parent_work_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;.work_dir&quot;</span><span class="p">)</span>
    <span class="n">compute_requirements</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></div>



<div class="viewcode-block" id="ConfigLogger">
<a class="viewcode-back" href="../../../mlxp.data_structures.html#mlxp.data_structures.schemas.ConfigLogger">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">ConfigLogger</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Structure of the config file for the logs.</span>

<span class="sd">    The outputs for each run are saved in a directory of the form</span>
<span class="sd">    &#39;parent_log_dir/log_id&#39; which is stored in the variable &#39;path&#39; during execution.</span>

<span class="sd">    .. py:attribute:: name</span>
<span class="sd">        :type: str</span>

<span class="sd">        Class name of the logger to use</span>
<span class="sd">        (default &quot;DefaultLogger&quot;)</span>

<span class="sd">    .. py:attribute:: parent_log_dir</span>
<span class="sd">        :type: str</span>

<span class="sd">        Absolute path of the parent directory where the logs of a run are stored.</span>
<span class="sd">        (default &quot;./logs&quot;)</span>

<span class="sd">    .. py:attribute:: forced_log_id</span>
<span class="sd">        :type: int</span>

<span class="sd">        An id optionally provided by the user for the run. If forced_log_id is positive,</span>
<span class="sd">        then the logs of the run will be stored under &#39;parent_log_dir/forced_log_id&#39;. Otherwise,</span>
<span class="sd">        the logs will be stored in a directory &#39;parent_log_dir/log_id&#39; where &#39;log_id&#39;</span>
<span class="sd">        is assigned uniquely for the run during execution.</span>

<span class="sd">    .. py:attribute:: log_streams_to_file</span>
<span class="sd">        :type: bool</span>

<span class="sd">        If true logs the system stdout and stderr of a run to a file named</span>
<span class="sd">        &quot;log.stdour&quot; and &quot;log.stderr&quot; in the log directory.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;DefaultLogger&quot;</span>
    <span class="n">parent_log_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;logs&quot;</span><span class="p">)</span>
    <span class="n">forced_log_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">log_streams_to_file</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span></div>



<div class="viewcode-block" id="Info">
<a class="viewcode-back" href="../../../mlxp.data_structures.html#mlxp.data_structures.schemas.Info">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Info</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;A structure storing general information about the run.</span>

<span class="sd">    The following variables are assigned during execution.</span>

<span class="sd">    .. py:attribute:: status</span>
<span class="sd">        :type: str</span>

<span class="sd">        Status of a job. The status can take the following values:</span>

<span class="sd">        - STARTING: The metadata for the run have been created.</span>

<span class="sd">        - RUNNING: The experiment is currently running.</span>

<span class="sd">        - COMPLETE: The run is  complete and did not through any error.</span>

<span class="sd">        - FAILED: The run stoped due to an error.</span>

<span class="sd">    .. py:attribute:: current_file_path</span>
<span class="sd">        :type: str</span>

<span class="sd">        Name of the python file being executed.</span>

<span class="sd">    .. py:attribute:: executable</span>
<span class="sd">        :type: str</span>

<span class="sd">        Path to the python executable used for executing the code.</span>

<span class="sd">    .. py:attribute:: hostname</span>
<span class="sd">        :type: str</span>

<span class="sd">        Name of the host from which code is executed.</span>

<span class="sd">    .. py:attribute:: process_id</span>
<span class="sd">        :type: int</span>

<span class="sd">        Id of the process assigned to the job during execution.</span>

<span class="sd">    .. py:attribute:: start_date</span>
<span class="sd">        :type: Any</span>

<span class="sd">        Date at which job started.</span>

<span class="sd">    .. py:attribute:: start_time</span>
<span class="sd">        :type: Any</span>

<span class="sd">        Time at which job started.</span>

<span class="sd">    .. py:attribute:: end_date</span>
<span class="sd">        :type: Any</span>

<span class="sd">        Date at which job ended.</span>

<span class="sd">    .. py:attribute:: end_time</span>
<span class="sd">        :type: Any</span>

<span class="sd">        Time at which job ended.</span>

<span class="sd">    .. py:attribute:: logger</span>
<span class="sd">        :type: Any</span>

<span class="sd">        Logger info, whenever used.</span>

<span class="sd">    .. py:attribute:: scheduler</span>
<span class="sd">        :type: Any</span>

<span class="sd">        scheduler info, whenever used.</span>

<span class="sd">    .. py:attribute:: version_manager</span>
<span class="sd">        :type: Any</span>

<span class="sd">        version_manager info, whenever used.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">status</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;STARTING&quot;</span>
    <span class="n">current_file_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">executable</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">hostname</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">process_id</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">start_date</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">start_time</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">end_date</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">end_time</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">work_dir</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getcwd</span><span class="p">()</span>
    <span class="n">logger</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">scheduler</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">version_manager</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span></div>



<div class="viewcode-block" id="MLXPConfig">
<a class="viewcode-back" href="../../../mlxp.data_structures.html#mlxp.data_structures.schemas.MLXPConfig">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">MLXPConfig</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Default settings of MLXP.</span>

<span class="sd">    .. py:attribute:: logger</span>
<span class="sd">        :type: ConfigLogger</span>

<span class="sd">        The logger&#39;s settings.</span>
<span class="sd">        (default ConfigLogger)</span>

<span class="sd">    .. py:attribute:: scheduler</span>
<span class="sd">        :type: ConfigScheduler</span>

<span class="sd">        The scheduler&#39;s settings.</span>
<span class="sd">        (default ConfigScheduler)</span>

<span class="sd">    .. py:attribute:: version_manager</span>
<span class="sd">        :type: ConfigVersionManager</span>

<span class="sd">        The version_manager&#39;s settings.</span>
<span class="sd">        (default ConfigGitVM)</span>

<span class="sd">    .. py:attribute:: use_version_manager</span>
<span class="sd">        :type: bool</span>

<span class="sd">        If true, uses the version manager.</span>
<span class="sd">        (default False)</span>

<span class="sd">    .. py:attribute:: use_scheduler</span>
<span class="sd">        :type: bool</span>

<span class="sd">        If true, uses the scheduler.</span>
<span class="sd">        (default False)</span>

<span class="sd">    .. py:attribute:: use_logger</span>
<span class="sd">        :type: bool</span>

<span class="sd">        If true, uses the logger.</span>
<span class="sd">        (default True)</span>

<span class="sd">    .. py:attribute:: interactive_mode</span>
<span class="sd">        :type: bool</span>

<span class="sd">        A variable controlling MLXP&#39;s interactive mode.</span>

<span class="sd">            1. If &#39;interactive_mode==True&#39;, MLXP uses the interactive mode whenever applicable:</span>

<span class="sd">                - When &#39;use_scheduler==True&#39; and &#39;scheduler.name==&quot;NoScheduler&quot;&#39;:</span>
<span class="sd">                Asks the user to select a valid scheduler.</span>
<span class="sd">                - When &#39;use_version_manager==True&#39;: Asks the user:</span>

<span class="sd">                    - If untracked files should be added.</span>
<span class="sd">                    - If uncommitted changes should be committed.</span>
<span class="sd">                    - If a copy of the current repository based on the latest commit should be made (if not already existing) to execute the code from there. Otherwise, code is executed from the current directory.</span>

<span class="sd">            2. If &#39;interactive_mode==False&#39;, no interactive mode is used and current options are used:</span>

<span class="sd">                - When &#39;use_scheduler==True&#39; and &#39;scheduler.name==&quot;NoScheduler&quot;&#39;: An error is thrown</span>
<span class="sd">                - When &#39;use_version_manager==True&#39;:</span>

<span class="sd">                    - Existing untracked files or uncommitted changes are ignored.</span>
<span class="sd">                    - A copy of the code is made based on the latest commit (if not already existing) and code is executed from there.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">logger</span><span class="p">:</span> <span class="n">ConfigLogger</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">ConfigLogger</span><span class="p">())</span>
    <span class="n">scheduler</span><span class="p">:</span> <span class="n">ConfigScheduler</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">ConfigScheduler</span><span class="p">())</span>
    <span class="n">version_manager</span><span class="p">:</span> <span class="n">ConfigVersionManager</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">ConfigGitVM</span><span class="p">())</span>
    <span class="n">use_version_manager</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">use_scheduler</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">use_logger</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">interactive_mode</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span></div>



<div class="viewcode-block" id="Metadata">
<a class="viewcode-back" href="../../../mlxp.data_structures.html#mlxp.data_structures.schemas.Metadata">[docs]</a>
<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">Metadata</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;The structure of the config file.</span>

<span class="sd">    .. py:attribute:: info</span>
<span class="sd">        :type: Info</span>

<span class="sd">        Contains config information of the run</span>
<span class="sd">        (hostname, command, application,  etc)</span>
<span class="sd">        (default Info)</span>

<span class="sd">    .. py:attribute:: mlxp</span>
<span class="sd">        :type: MLXPConfig</span>

<span class="sd">        Default settings of MLXP.</span>
<span class="sd">        (default MLXPConfig)</span>

<span class="sd">    .. py:attribute:: config</span>
<span class="sd">        :type: Any</span>

<span class="sd">        Contains the user&#39;s defined configs that are specific to the run.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">info</span><span class="p">:</span> <span class="n">Info</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">Info</span><span class="p">())</span>
    <span class="n">mlxp</span><span class="p">:</span> <span class="n">MLXPConfig</span> <span class="o">=</span> <span class="n">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="k">lambda</span><span class="p">:</span> <span class="n">MLXPConfig</span><span class="p">())</span>
    <span class="n">config</span><span class="p">:</span> <span class="n">Any</span> <span class="o">=</span> <span class="kc">None</span></div>

</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; Copyright (C) 2023 Michael Arbel
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="../../../_static/documentation_options.js?v=10f1778b"></script>
    <script src="../../../_static/doctools.js?v=888ff710"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/scripts/furo.js?v=32e29ea5"></script>
    </body>
</html>